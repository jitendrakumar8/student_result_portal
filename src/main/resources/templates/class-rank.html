<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Class Rank</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<div class="container mt-4">

    <h3 class="text-center">Class Rank</h3>

    <form method="post" class="row g-3">

        <!-- CLASS -->
        <div class="col-md-4">
            <select id="classSelect"
                    name="className"
                    class="form-select"
                    required
                    onchange="loadSectionsForRank(this.value)">
                <option value="">Select Class</option>
                <option th:each="c : ${classList}"
                        th:value="${c}"
                        th:text="${c}">
                </option>
            </select>
        </div>

        <!-- SECTION -->
        <div class="col-md-4">
            <select id="sectionSelect"
                    name="section"
                    class="form-select"
                    required>
                <option value="">Select Section</option>
            </select>
        </div>

        <!-- EXAM TYPE -->
        <div class="col-md-4">
            <select name="examType" class="form-select" required>
                <option value="HALF_YEARLY">Half Yearly</option>
                <option value="ANNUAL">Annual</option>
            </select>
        </div>

        <div class="col-12 text-center">
            <button class="btn btn-primary">
                Calculate Rank
            </button>
        </div>

    </form>


    <table th:if="${ranks}" class="table table-bordered mt-4 text-center">
        <thead class="table-dark">
        <tr>
            <th>Rank</th>
            <th>Student</th>
            <th>Total Marks</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="r : ${ranks}">
            <td th:text="${r.rank}"></td>
            <td th:text="${r.studentName}"></td>
            <td th:text="${r.totalMarks}"></td>
        </tr>
        </tbody>
    </table>
    <div class="card-footer text-center">
        <a href="/admin/dashboard" class="btn btn-outline-secondary btn-sm">
            ‚Üê Back to Dashboard
        </a>
    </div>

</div>

<script src="/js/class-rank.js"></script>

</body>
</html>
